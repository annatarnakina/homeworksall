(()=>{"use strict";class e{#e=[];constructor(e){this.#e=e}get taskList(){return[...this.#e]}addTask(e){this.#e.push(e)}clear(){this.#e=[]}serialize(){return JSON.stringify(this.#e.map((e=>e.serialize())))}}class t{save(e){}read(){return new e([])}}class s{#t;#s=!1;#n;constructor(e){this.#t=e,this.#n=(new Date).getTime()}get taskDto(){return{content:this.#t,isReady:this.#s}}serialize(){return{content:this.#t,isReady:this.#s,createdAt:this.#n}}toggleReady(){this.#s=!this.#s}}document.body.appendChild(function(){const e=document.createElement("div");return e.appendChild(function(){const e=document.createElement("form"),n=document.createElement("h2"),a=document.createElement("input"),i=document.createElement("button"),d=(new t).read();return n.innerText="Добавить задачу",i.innerText="Добавить",i.addEventListener("click",(e=>{e.preventDefault();const t=a.value.trim();""!==t&&(d.addTask(new s(t)),dispatchTaskAdded(),taskRepository.save(d))})),e.appendChild(n),e.appendChild(a),e.appendChild(i),e}()),e.appendChild(document.createElement("ul")),e}())})();